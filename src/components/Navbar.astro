---
import nav from '../data/nav.json';
const lang = Astro.currentLocale;
const navItems = nav[lang] || [];
const { pathname } = Astro.url;
---
<ul>
  {navItems.map(item => {
    // item.url is like "/es/" or "/es/autores/"
    // Astro automatically handles prepending the base path in hrefs
    const isActive = pathname.endsWith(item.url);
    return (
      <li>
        <a href={item.url} aria-current={isActive ? 'page' : false}>
          {item.title}
        </a>
      </li>
    );
  })}
</ul>