---
import nav from '../data/nav.json';
const lang = Astro.currentLocale;
const navItems = nav[lang] || [];
const { pathname } = Astro.url;
const baseUrl = import.meta.env.BASE_URL;
---
<ul>
  {navItems.map(item => {
    const itemPath = `${baseUrl}${item.url.startsWith('/') ? item.url.substring(1) : item.url}`;
    const isActive = pathname === itemPath || `${pathname}/` === itemPath;
    return (
      <li>
        <a href={itemPath} aria-current={isActive ? 'page' : false}>
          {item.title}
        </a>
      </li>
    );
  })}
</ul>